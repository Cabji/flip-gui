#ifndef __FlipMain__
#define __FlipMain__

/**
@file
Subclass of Main, which is generated by wxFormBuilder.
*/

#include "Flip.h"

//// end generated include

#include "FlipProgramLog.h"
#include "FLipTemplateEditor.h"
#include <memory>
#include <wx/hashmap.h>
#include <wx/msw/winundef.h>
#include <Windows.h>
#include <dwmapi.h>
#pragma comment(lib, "Dwmapi.lib")

WX_DECLARE_STRING_HASH_MAP(wxString, TemplateMap);

/** Implementing Main */
class FlipMain : public Main
{
public:
	/** Constructor */
	FlipMain(wxWindow *parent);
	//// end generated class members
	// cutom constructor declared below here
	FlipMain(wxWindow *parent, wxWindowID id, const wxString &title, const wxPoint &pos, const wxSize &size, long style);
	~FlipMain();
	TemplateMap ReadUserTemplates(const wxArrayString &readPaths);

	// widget related methods
	void LogAllChildWidgets();
	void LogChildWidgetsRecursive(wxWindow *parent);

	// public members
	static const wxString RESOURCE_MENU_ICONS_PATH;

	// custom class members are below here
private:
	// event handlers
	void OnAbout(wxCommandEvent &event);
	void OnButtonHover(wxMouseEvent &event);
	void OnButtonLeave(wxMouseEvent &event);
	void OnChoice(wxCommandEvent &event);
	void OnQuit(wxCommandEvent &event);
	void OnShowProgramLog(wxCommandEvent &event);
	void OnShowTemplateEditor(wxCommandEvent &event);
	void OnSwitchDBPChecked(wxCommandEvent &event);

	// private members
	std::unique_ptr<FlipProgramLog> m_programLog;
	std::unique_ptr<FlipTemplateEditor> m_templateEditor;
	TemplateMap m_tmap_userTemplates;

	// private methods
	void SetupMenuIcons(wxMenu *menu);
};

#endif // __FlipMain__
